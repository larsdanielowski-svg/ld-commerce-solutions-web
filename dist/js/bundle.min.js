document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".category-btn"),t=document.querySelectorAll(".blog-card"),n=document.getElementById("search-input"),i=document.querySelector(".search-btn");if(e.forEach(t=>{t.addEventListener("click",function(){e.forEach(e=>e.classList.remove("active")),this.classList.add("active");s(this.getAttribute("data-category"),n.value.toLowerCase())})}),n&&i){let e;i.addEventListener("click",function(){const e=document.querySelector(".category-btn.active");s(e?e.getAttribute("data-category"):"all",n.value.toLowerCase())}),n.addEventListener("keypress",function(e){if("Enter"===e.key){const e=document.querySelector(".category-btn.active");s(e?e.getAttribute("data-category"):"all",this.value.toLowerCase())}}),n.addEventListener("input",function(){clearTimeout(e),e=setTimeout(()=>{const e=document.querySelector(".category-btn.active");s(e?e.getAttribute("data-category"):"all",this.value.toLowerCase())},300)})}function s(e,n=""){t.forEach(t=>{const i=t.getAttribute("data-category"),s=t.querySelector("h3").textContent.toLowerCase(),o=t.querySelector(".blog-excerpt").textContent.toLowerCase(),r="all"===e||i===e,a=!n||s.includes(n)||o.includes(n);r&&a?(t.style.display="block",setTimeout(()=>{t.style.opacity="1",t.style.transform="translateY(0)"},10)):(t.style.opacity="0",t.style.transform="translateY(20px)",setTimeout(()=>{t.style.display="none"},300))})}document.querySelectorAll(".read-more").forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=this.closest(".blog-card").querySelector("h3").textContent;alert(`Artikel "${t}" w√ºrde hier in einem realen System ge√∂ffnet werden.`)})});const o=document.querySelector(".newsletter-form");o&&o.addEventListener("submit",function(e){e.preventDefault();const t=this.querySelector('input[type="email"]').value;if(!t.trim())return void alert("Bitte geben Sie eine E-Mail-Adresse ein.");/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?(alert(`Vielen Dank f√ºr Ihre Anmeldung mit der E-Mail: ${t}`),this.reset()):alert("Bitte geben Sie eine g√ºltige E-Mail-Adresse ein.")});document.querySelectorAll(".page-btn").forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=this.textContent.includes("Vorherige")?"previous":"next";alert(("previous"===t?"Vorherige":"N√§chste")+" Seite wird geladen...")})});const r=document.querySelectorAll(".page-number");r.forEach(e=>{e.classList.contains("page-dots")||e.addEventListener("click",function(){r.forEach(e=>e.classList.remove("active")),this.classList.add("active");const e=this.textContent;"..."!==e&&alert(`Seite ${e} wird geladen...`)})});const a=document.getElementById("contact-form");a&&a.addEventListener("submit",function(e){e.preventDefault();this.querySelector('input[type="text"]').value.trim()?(alert("Vielen Dank f√ºr Ihre Nachricht! Wir werden uns in K√ºrze bei Ihnen melden."),this.reset()):alert("Bitte geben Sie Ihren Namen ein.")});const l=document.querySelector(".menu-toggle"),c=document.querySelector(".nav-links");l&&!document.querySelector('script[src="js/main.js"]')&&(l.addEventListener("click",function(){c.style.display="flex"===c.style.display?"none":"flex"}),document.addEventListener("click",function(e){l.contains(e.target)||c.contains(e.target)||window.innerWidth<=768&&(c.style.display="none")}))});class ContactForm{constructor(e){this.form=document.getElementById(e),this.form&&this.init()}init(){this.setupEventListeners(),this.setupMessageCounter(),this.createFeedbackElement()}setupEventListeners(){this.form.querySelectorAll("input, textarea, select").forEach(e=>{e.addEventListener("input",e=>this.validateField(e.target)),e.addEventListener("blur",e=>this.validateField(e.target))}),this.form.addEventListener("submit",e=>this.handleSubmit(e));const e=this.form.querySelector("#privacy");e&&e.addEventListener("change",()=>this.validateField(e))}setupMessageCounter(){const e=this.form.querySelector("#message"),t=this.form.querySelector("#message-counter");e&&t&&e.addEventListener("input",()=>{const n=e.value.length,i=parseInt(e.getAttribute("minlength")||20),s=Math.max(0,i-n);n<i?(t.textContent=`Noch ${s} Zeichen ben√∂tigt`,t.style.color="#ef4444"):(t.textContent=`${n} Zeichen (Mindestl√§nge erreicht)`,t.style.color="#10b981")})}validateField(e){const t=e.closest(".form-group")||e.closest(".form-check"),n=document.getElementById(`${e.id}-error`);if(!t)return!0;t.classList.remove("success","error");let i=!0,s="";if(e.hasAttribute("required")&&!e.value.trim()&&(i=!1,s="Dieses Feld ist erforderlich"),"email"===e.type&&e.value.trim()){/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.value)||(i=!1,s="Bitte geben Sie eine g√ºltige E-Mail-Adresse ein")}if("tel"===e.type&&e.value.trim()){/^[\+]?[0-9\s\-\(\)]{6,}$/.test(e.value)||(i=!1,s="Bitte geben Sie eine g√ºltige Telefonnummer ein")}if("message"===e.id&&e.value.trim()){const t=parseInt(e.getAttribute("minlength")||20);e.value.length<t&&(i=!1,s=`Bitte geben Sie mindestens ${t} Zeichen ein`)}return"SELECT"===e.tagName&&e.hasAttribute("required")&&(e.value||(i=!1,s="Bitte w√§hlen Sie eine Option aus")),"checkbox"===e.type&&e.hasAttribute("required")&&!e.checked&&(i=!1,s="Sie m√ºssen den Datenschutzbestimmungen zustimmen"),i||""===e.value.trim()?i&&""!==e.value.trim()?(t.classList.add("success"),n&&(n.textContent="‚úì G√ºltig"),!0):(n&&(n.textContent=""),!0):(t.classList.add("error"),n&&(n.textContent=s),!1)}validateForm(){let e=!0;return this.form.querySelectorAll("input, textarea, select").forEach(t=>{this.validateField(t)||(e=!1)}),e}async handleSubmit(e){if(e.preventDefault(),!this.validateForm()){this.showFeedback("Bitte √ºberpr√ºfen Sie Ihre Eingaben","error");const e=this.form.querySelector(".error");return void(e&&e.scrollIntoView({behavior:"smooth",block:"center"}))}const t=new FormData(this.form),n=Object.fromEntries(t),i=this.form.querySelector('button[type="submit"]'),s=i.querySelector(".btn-text"),o=s.textContent;i.classList.add("loading"),s.textContent="Wird gesendet...",i.disabled=!0;try{await this.simulateApiCall(n),this.showFeedback("Nachricht erfolgreich gesendet! Wir melden uns in K√ºrze bei Ihnen.","success"),this.form.reset();const e=this.form.querySelector("#message-counter");e&&(e.textContent="Mindestens 20 Zeichen",e.style.color="")}catch(e){this.showFeedback("Ein Fehler ist aufgetreten. Bitte versuchen Sie es sp√§ter erneut.","error"),console.error("Form submission error:",e)}finally{i.classList.remove("loading"),s.textContent=o,i.disabled=!1}}simulateApiCall(e){return new Promise((e,t)=>{setTimeout(()=>{Math.random()<.9?e({success:!0,message:"Message sent successfully"}):t(new Error("Network error"))},1500)})}createFeedbackElement(){const e=document.querySelector(".form-feedback");e&&e.remove(),this.feedbackElement=document.createElement("div"),this.feedbackElement.className="form-feedback",this.feedbackElement.innerHTML='\n            <div class="feedback-icon"></div>\n            <div class="feedback-content">\n                <h4></h4>\n                <p></p>\n            </div>\n        ',document.body.appendChild(this.feedbackElement)}showFeedback(e,t="success"){if(!this.feedbackElement)return;const n=this.feedbackElement.querySelector(".feedback-icon"),i=this.feedbackElement.querySelector("h4"),s=this.feedbackElement.querySelector("p");"success"===t?(this.feedbackElement.className="form-feedback success",n.innerHTML='<i class="fas fa-check-circle"></i>',i.textContent="Erfolg!",s.textContent=e):(this.feedbackElement.className="form-feedback error",n.innerHTML='<i class="fas fa-exclamation-triangle"></i>',i.textContent="Fehler",s.textContent=e),this.feedbackElement.classList.add("show"),setTimeout(()=>{this.feedbackElement.classList.remove("show")},5e3)}}function initializePerformanceOptimizations(){document.querySelectorAll("img").forEach(e=>{e.loading||(e.loading="lazy")}),"requestIdleCallback"in window&&requestIdleCallback(()=>{});["https://fonts.googleapis.com","https://fonts.gstatic.com","https://cdnjs.cloudflare.com","https://images.unsplash.com"].forEach(e=>{const t=document.createElement("link");t.rel="preconnect",t.href=e,t.crossOrigin="anonymous",document.head.appendChild(t)});[{href:"/css/style.css",as:"style"},{href:"/js/main.js",as:"script"}].forEach(e=>{const t=document.createElement("link");t.rel="preload",t.href=e.href,t.as=e.as,document.head.appendChild(t)})}document.addEventListener("DOMContentLoaded",()=>{new ContactForm("contact-form");window.ContactForm=ContactForm}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".theme-toggle"),t=e?.querySelector("i"),n=e?.querySelector(".theme-text"),i=window.matchMedia("(prefers-color-scheme: dark)"),s=window.matchMedia("(prefers-color-scheme: light)"),o=localStorage.getItem("theme"),r=localStorage.getItem("themeTimestamp"),a=(new Date).getTime();let l,c=!0;function d(e,i=!0){i?(document.documentElement.style.transition="none",document.documentElement.setAttribute("data-theme",e),document.documentElement.offsetHeight,document.documentElement.style.transition=""):document.documentElement.setAttribute("data-theme",e),t&&(t.className="dark"===e?"fas fa-sun":"fas fa-moon"),n&&(n.textContent="dark"===e?"Light Mode":"Dark Mode"),localStorage.setItem("theme",e),localStorage.setItem("themeTimestamp",(new Date).getTime().toString()),document.dispatchEvent(new CustomEvent("themechange",{detail:{theme:e}}))}r&&a-parseInt(r)>6048e5&&(c=!1),c&&o?l=o:(l=i.matches?"dark":(s.matches,"light"),localStorage.setItem("theme",l),localStorage.setItem("themeTimestamp",a.toString())),d(l,!1),e&&e.addEventListener("click",()=>{const t="dark"===document.documentElement.getAttribute("data-theme")?"light":"dark";if(e.style.transform="scale(0.95) rotate(5deg)",e.style.boxShadow="0 0 20px rgba(0, 180, 216, 0.5)",setTimeout(()=>{e.style.transform="",e.style.boxShadow=""},300),d(t),window.innerWidth>768){const e=document.createElement("div");e.style.cssText=`\n                    position: fixed;\n                    top: 90px;\n                    right: 20px;\n                    background: ${"dark"===t?"#1a1a1a":"#ffffff"};\n                    color: ${"dark"===t?"#f0f0f0":"#1a1a1a"};\n                    padding: 8px 16px;\n                    border-radius: 6px;\n                    font-size: 0.9rem;\n                    box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n                    z-index: 10000;\n                    transform: translateY(-10px);\n                    opacity: 0;\n                    transition: all 0.3s ease;\n                `,e.textContent="dark"===t?"üåô Dark Mode aktiviert":"‚òÄÔ∏è Light Mode aktiviert",document.body.appendChild(e),setTimeout(()=>{e.style.transform="translateY(0)",e.style.opacity="1"},10),setTimeout(()=>{e.style.transform="translateY(-10px)",e.style.opacity="0",setTimeout(()=>{document.body.removeChild(e)},300)},2e3)}}),i.addEventListener("change",e=>{localStorage.getItem("theme")||d(e.matches?"dark":"light")});const m=document.querySelector(".menu-toggle"),u=document.querySelector(".nav-links");m&&u&&(m.addEventListener("click",()=>{const e="flex"===u.style.display;u.style.display=e?"none":"flex",e?u.classList.remove("mobile-visible"):u.classList.add("mobile-visible")}),document.addEventListener("click",e=>{window.innerWidth<=768&&(m.contains(e.target)||u.contains(e.target)||(u.style.display="none",u.classList.remove("mobile-visible")))}),u.querySelectorAll("a").forEach(e=>{e.addEventListener("click",()=>{window.innerWidth<=768&&(u.style.display="none",u.classList.remove("mobile-visible"))})}));const h=document.getElementById("contact-form");function f(){const e=window.location.pathname.split("/").pop()||"index.html";document.querySelectorAll(".nav-links a").forEach(t=>{t.classList.remove("active");const n=t.getAttribute("href");(n===e||"index.html"===e&&"#home"===n||""===e&&"#home"===n)&&t.classList.add("active")})}function y(){window.innerWidth>768?u&&(u.style.display="flex",u.classList.remove("mobile-visible")):u&&!u.classList.contains("mobile-visible")&&(u.style.display="none")}h&&h.addEventListener("submit",e=>{e.preventDefault();const t=h.querySelector('input[type="text"]').value.trim(),n=h.querySelector('input[type="email"]').value.trim(),i=h.querySelector("textarea").value.trim();if(!t||!n||!i)return void alert("Bitte f√ºllen Sie alle Felder aus.");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n))return void alert("Bitte geben Sie eine g√ºltige E-Mail-Adresse ein.");const s=h.querySelector("button"),o=s.innerText;s.innerText="Wird gesendet...",s.disabled=!0,setTimeout(()=>{alert("Vielen Dank f√ºr Ihre Nachricht! Wir werden uns in K√ºrze bei Ihnen melden."),h.reset(),s.innerText=o,s.disabled=!1},1500)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){const t=this.getAttribute("href");if("#"===t||t.includes("://"))return;const n=t.substring(1),i=document.getElementById(n);if(i){e.preventDefault();const n=80,s=i.getBoundingClientRect().top+window.pageYOffset-n;window.scrollTo({top:s,behavior:"smooth"}),history.pushState(null,null,t)}})}),f(),window.addEventListener("hashchange",f),y(),window.addEventListener("resize",y);const g=document.createElement("style");g.textContent="\n        @media (max-width: 768px) {\n            .nav-links {\n                position: fixed;\n                top: 80px;\n                left: 0;\n                width: 100%;\n                background: var(--white);\n                flex-direction: column;\n                padding: 20px;\n                box-shadow: 0 10px 20px rgba(0,0,0,0.1);\n                display: none;\n                z-index: 999;\n            }\n            \n            .nav-links.mobile-visible {\n                display: flex !important;\n                animation: slideDown 0.3s ease;\n            }\n            \n            .nav-links li {\n                margin: 10px 0;\n                width: 100%;\n            }\n            \n            .nav-links a {\n                display: block;\n                padding: 10px;\n                border-bottom: 1px solid #eee;\n                width: 100%;\n            }\n            \n            .nav-links a:last-child {\n                border-bottom: none;\n            }\n            \n            @keyframes slideDown {\n                from {\n                    opacity: 0;\n                    transform: translateY(-20px);\n                }\n                to {\n                    opacity: 1;\n                    transform: translateY(0);\n                }\n            }\n        }\n    ",document.head.appendChild(g)}),window.addEventListener("load",()=>{const e=document.querySelector(".hero");if(e){const t=new Image;t.src="https://images.unsplash.com/photo-1460925895917-afdab827c52f?auto=format&fit=crop&q=60&w=1920&ixlib=rb-4.0.3",t.onload=()=>{e.classList.add("loaded")},t.onerror=()=>{console.warn("Hero background failed to load, using fallback"),e.classList.add("loaded")},setTimeout(()=>{e.classList.add("loaded")},3e3)}initializePerformanceOptimizations()}),document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".filter-btn"),t=document.querySelectorAll(".portfolio-card");e.forEach(n=>{n.addEventListener("click",function(){e.forEach(e=>e.classList.remove("active")),this.classList.add("active");const n=this.getAttribute("data-filter");t.forEach(e=>{if("all"===n)e.style.display="block";else{const t=e.getAttribute("data-category");e.style.display=t===n?"block":"none"}})})});const n=document.getElementById("contact-form");n&&n.addEventListener("submit",function(e){e.preventDefault();new FormData(this);this.querySelector('input[type="text"]').value.trim()?(alert("Vielen Dank f√ºr Ihre Nachricht! Wir werden uns in K√ºrze bei Ihnen melden."),this.reset()):alert("Bitte geben Sie Ihren Namen ein.")});const i=document.querySelector(".menu-toggle"),s=document.querySelector(".nav-links");i&&!document.querySelector('script[src="js/main.js"]')&&(i.addEventListener("click",function(){s.style.display="flex"===s.style.display?"none":"flex"}),document.addEventListener("click",function(e){i.contains(e.target)||s.contains(e.target)||window.innerWidth<=768&&(s.style.display="none")}))});